generator client {
  provider      = "prisma-client-js"
  binaryTargets = ["native", "linux-musl-openssl-3.0.x"]
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id          String    @id @unique @default(uuid())
  isActivated Boolean   @default(true)
  created_at  DateTime  @default(now())
  updated_at  DateTime?
  isAdm       Boolean   @default(false)
  username    String    @unique
  email       String?
  password    String
  Game        Game[]
  Guest       Guest[]
}

model Hint {
  id           String       @id @unique @default(uuid())
  is_activated Boolean      @default(true)
  created_at   DateTime     @default(now())
  updated_at   DateTime?
  text         String
  HintsWords   HintsWords[]
}

model Word {
  id           String       @id @unique @default(uuid())
  text         String
  description  String?
  is_activated Boolean      @default(true)
  created_at   DateTime     @default(now())
  updated_at   DateTime?
  Game         Game[]
  HintsWords   HintsWords[]
}

model HintsWords {
  id         String    @id @unique @default(uuid())
  word_id    String
  hint_id    String
  created_at DateTime  @default(now())
  updated_at DateTime?
  id_hint    Hint      @relation(fields: [hint_id], references: [id])
  id_word    Word      @relation(fields: [word_id], references: [id])
}

model Game {
  id          String       @id @unique @default(uuid())
  attempts    Int
  is_beat     Boolean?
  user_id     String
  word_id     String
  created_at  DateTime     @default(now())
  updated_at  DateTime?
  GameLetter  GameLetter[]
  user        User         @relation(fields: [user_id], references: [id])
  word        Word         @relation(fields: [word_id], references: [id])
}

model GameLetter {
  id          String    @id @unique @default(uuid())
  isActivated Boolean   @default(true)
  created_at  DateTime  @default(now())
  updated_at  DateTime?
  letter      String
  is_correct  Boolean   @default(false)
  game        Game      @relation(fields: [game_id], references: [id])
  game_id     String
}

model Guest {
  id          String    @id @unique @default(uuid())
  isActivated Boolean   @default(true)
  created_at  DateTime  @default(now())
  updated_at  DateTime?
  guest_name  String    @unique @default(cuid())
  User        User?     @relation(fields: [user_id], references: [id])
  user_id     String?
}
